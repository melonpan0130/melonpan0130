---
title: 'ProxyPattern'
date: 2020-11-18 23:55:00
path: '/design_pattern/ProxyPattern'
category: 'design_pattern'
---

`어떤 객체에 대한 접근을 제어하는 용도로 그것을 대변하는 객체를 제공하는 패턴`

주로 프록시 패턴은 RealSubject가 원격 시스템에서 돌아가거나, 그 객체의 생성 비용이 많이 들어 실제 사용시점에 객체를 생성하거나, 실제 객체에 접근을 제한 및 제어를 해야 할 때 등의 경우에 사용됩니다.

![img](https://t1.daumcdn.net/cfile/tistory/9961493E5C3C3CE30C)

Proxy에는 RealSubject에 대한 레퍼런스가 들어있습니다.
그리고, Proxy와 RealSubject는 똑같은 인터페이스(Subject)를 구현하기 때문에 RealSubject 객체가 들어갈 자리면 어디든지 Proxy를 대신해 쓸 수 있습니다.
그래서, 클리아언트는 Proxy를 중간에 두고 Proxy를 통해서 RealSubject하고 데이터를 주고 받습니다.


### 프록시 패턴의 종류

* **원격 프록시** 원격 객체에 대한 접근 제어가 가능합니다.
* **가상 프록시 Virtual Proxy** 객체의 생성비용이 많이 들어 미리 생성하기 힘든 객체에 대한 접근 및 생성시점 등을 제어합니다.
* **보호 프록시 Protection Proxy** 객체에 따른 접근 권한을 제어해야하는 객체에 대한 접근을 제어할 수 있습니다.
* **방화벽 프록시** 일련의 네트워크 자원에 대한 접근을 제어함으로써 주 객체를 '나쁜' 클라이언트로부터 보호하는 역할을 합니다.
* **스마트 레퍼런스 프록시 Smart Reference Proxy** 주 객체가 참조될 때마다 추가 행동을 제공합니다. ex) 객체참조에 대한 선 작업, 후 작업 등
* **캐싱 프록시 Caching Proxy** 비용이 많이 드는 작업의 결과를 임시로 저장하고, 추후 여러 클라이언트에 저장된 결과를 실제 작업처리 대신 보여주고 자원을 절약하는 역할을 합니다.
* **동기화 프록시 Synchronization Proxy** 여러 스레드에서 주 객체에 접근하는 경우에 안전하게 작업을 처리할 수 있게 해줍니다. 주로 분산 환경에서 일련의 객체에 대한 동기화 된 접근을 제어해주느 자바 스페이스에서 쓰입니다.
* **복잡도 숨김 프록시 Complexity Hiding Proxy** 복잡한 클래스들의 집합에 대한 접근을 제어하고, 복잡도를 숨깁니다.
* **지연 복사 프록시 Copy-On-Write Proxy** 클라이언트에서 필요로 할 때까지 객체가 복사되는 것을 지연시킴으로써 객체의 복사를 제어합니다. '변형된 가상 프록시'라고 할 수 있으며, Java5의 CopyOnWriteArrayList에서 쓰입니다.


### 프록시 패턴의 특징

* 대리자는 실제 서비스와 같은 이름의 메서들르 구현한다. 이때 인터페이스를 사용한다.
* 대리자는 실제 서비스에 대한 참조 변수를 갖는다. (합성)
* 대리자는 실제 서비스와 같은 이름을 가진 메서드를 호출하고 그 값을 클라이언트에게 돌려준다.
* 대리자는 실제 서비스의 메서드 호출 전후에도 별도의 로직을 수행할 수도 있다.



___
참고    [변방의 프로그래머]('https://developside.tistory.com/80') [Limky 삽질블로그]('https://limkydev.tistory.com/79')